(this.webpackJsonptwitch_rp_bot=this.webpackJsonptwitch_rp_bot||[]).push([[0],{124:function(e,t,n){e.exports=n.p+"static/media/home.e3e24c40.png"},135:function(e,t,n){e.exports=n(205)},205:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(15),i=n.n(o),u=n(245),s=n(256),l=n(68),d=n(243),p=n(9),f=n(235),b=n(262),m=n(246),h=n(35),v=n(52),g=n(238),j=n(240),O=n(241),y=n(244),k=n(242),x={api:"https://tokenyet-glitchbotrp.glitch.me/api",isProduction:!0,twitchClientId:"ji2x3mhdh53rl5ezek9j6xamsolds4"},E=n(33),w=n(6),S=n.n(w),C=n(16),T=n(12),B=n(13),A=n(14),_=n(7),I=n(21),F=n(17),L=n(28),R=n(29),U=n(49),P=n(43),N=n(44),D=n.n(N),W="/users",Y=function(){function e(){Object(_.a)(this,e)}return Object(C.a)(e,null,[{key:"twitchLogin",value:function(){var e=Object(P.a)(S.a.mark((function e(t){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.post(x.api+"".concat(W)).set("accept","json").set({"Content-Type":"application/json"}).send(t);case 3:return n=e.sent,a=n.body,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(P.a)(S.a.mark((function e(t){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get(x.api+"".concat(W)).set("accept","json").set({"Content-Type":"application/json"}).set({Authorization:"Bearer "+t}).send();case 3:return n=e.sent,a=n.body,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"apply",value:function(){var e=Object(P.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.post(x.api+"".concat(W,"/apply")).set("accept","json").set({"Content-Type":"application/json"}).set({Authorization:"Bearer "+t}).send();case 3:return n=e.sent,e.abrupt("return",n.body);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAppliers",value:function(){var e=Object(P.a)(S.a.mark((function e(t){var n,a,r=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:0,e.prev=1,e.next=4,D.a.get(x.api+"".concat(W,"/apply?page=").concat(n)).set("accept","json").set({"Content-Type":"application/json"}).set({Authorization:"Bearer "+t}).send();case 4:return a=e.sent,e.abrupt("return",a.body);case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"confirmApplier",value:function(){var e=Object(P.a)(S.a.mark((function e(t,n){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.post(x.api+"".concat(W,"/apply/confirm")).set("accept","json").set({"Content-Type":"application/json"}).set({Authorization:"Bearer "+t}).send({id:n});case 3:return a=e.sent,e.abrupt("return",a.body);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),H=n(61),M=n.n(H);!function(e){e.token="TOKEN",e.user="USER"}(a||(a={}));var z=function(){function e(){Object(_.a)(this,e)}return Object(C.a)(e,[{key:"Token",set:function(e){void 0===e&&M.a.set(a.token,{}),"string"===typeof e&&M.a.set(a.token,e)},get:function(){return M.a.get(a.token)}},{key:"User",set:function(e){M.a.set(a.user,e)},get:function(){return M.a.get(a.user)}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new e)}}]),e}();z._instance=void 0;var V,q=z.Instance;!function(e){e.user="USER"}(V||(V={}));var G=function(){function e(){Object(_.a)(this,e)}return Object(C.a)(e,[{key:"User",set:function(e){window.localStorage.setItem(V.user,JSON.stringify(e))},get:function(){return JSON.parse(window.localStorage.getItem(V.user))}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new e)}}]),e}();G._instance=void 0;var J,K=G.Instance;!function(e){e.audience="audience",e.streamer="streamer",e.manager="manager"}(J||(J={}));var Q=function e(t,n){Object(_.a)(this,e),this.token=void 0,this.user=void 0,this.user=n,this.token=t},X=function(e){function t(e,n){return Object(_.a)(this,t),Object(T.a)(this,Object(B.a)(t).call(this,e,n))}return Object(A.a)(t,e),t}(Q),Z=function(e){function t(e,n){return Object(_.a)(this,t),Object(T.a)(this,Object(B.a)(t).call(this,e,n))}return Object(A.a)(t,e),t}(Q),$=function(e){function t(e,n){var a,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(_.a)(this,t),(a=Object(T.a)(this,Object(B.a)(t).call(this,e,n))).error=void 0,a.error=r,a}return Object(A.a)(t,e),t}(Q),ee=function e(){Object(_.a)(this,e)},te=function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(T.a)(this,Object(B.a)(t).call(this))).token=void 0,n.token=e,n}return Object(A.a)(t,e),t}(ee),ne=function(e){function t(){return Object(_.a)(this,t),Object(T.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(A.a)(t,e),t}(ee),ae=function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(T.a)(this,Object(B.a)(t).call(this))).hashLocation=void 0,n.hashLocation=e,n}return Object(A.a)(t,e),t}(ee),re=function(e){function t(){return Object(_.a)(this,t),Object(T.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(A.a)(t,e),t}(ee),ce=function(e){function t(){return Object(_.a)(this,t),Object(T.a)(this,Object(B.a)(t).call(this))}return Object(A.a)(t,e),Object(C.a)(t,[{key:"initialState",value:function(){var e=q.Token,t=K.User;return new X(e,t)}},{key:"mapEventToState",value:function(e){var t=this;return Object(I.a)(S.a.mark((function n(){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e instanceof te)){n.next=4;break}return n.delegateYield(Object(R.a)(Object(L.a)(t._mapLoginEventToState(e)),F.a),"t0",2);case 2:n.next=20;break;case 4:if(!(e instanceof ne)){n.next=8;break}return n.delegateYield(Object(R.a)(Object(L.a)(t._mapLogOutToState(e)),F.a),"t1",6);case 6:n.next=20;break;case 8:if(!(e instanceof ae)){n.next=18;break}if(console.log(e.hashLocation),!e.hashLocation.includes("#/access_token")){n.next=15;break}t.dispatch(new te(e.hashLocation.split("&")[0].replace("#/access_token=",""))),window.history.replaceState({},"Home","/"),n.next=16;break;case 15:return n.delegateYield(Object(R.a)(Object(L.a)(t._mapAppStartEventToState(e)),F.a),"t2",16);case 16:n.next=20;break;case 18:if(!(e instanceof re)){n.next=20;break}return n.delegateYield(Object(R.a)(Object(L.a)(t._mapAppStartEventToState(new ae(""))),F.a),"t3",20);case 20:case"end":return n.stop()}}),n)})))()}},{key:"_mapAppStartEventToState",value:function(e){return Object(I.a)(S.a.mark((function e(){var t,n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=q.Token,n=K.User,e.next=4,new Z(t,n);case 4:if(console.log("APP START!"),t){e.next=11;break}return q.Token=void 0,K.User=null,e.next=10,new $;case 10:return e.abrupt("return");case 11:return e.next=13,Object(F.a)(Y.getUser(t));case 13:if(a=e.sent){e.next=20;break}return q.Token=void 0,K.User=null,e.next=19,new $(void 0,void 0,!0);case 19:return e.abrupt("return");case 20:return q.Token=a.token,K.User=a,e.next=24,new $(t,a);case 24:case"end":return e.stop()}}),e)})))()}},{key:"_mapLoginEventToState",value:function(e){var t=this;return Object(I.a)(S.a.mark((function n(){var a;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Z(t.currentState.token,t.currentState.user);case 2:return n.next=4,Object(F.a)(Y.twitchLogin({token:e.token}));case 4:if(a=n.sent){n.next=11;break}return q.Token=void 0,K.User=null,n.next=10,new $(void 0,void 0,!0);case 10:return n.abrupt("return");case 11:return q.Token=a.token,K.User=a,n.next=15,new $(a.token,a);case 15:case"end":return n.stop()}}),n)})))()}},{key:"_mapLogOutToState",value:function(e){return Object(I.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q.Token="",K.User=null,e.next=4,new $;case 4:case"end":return e.stop()}}),e)})))()}}]),t}(U.a),oe=c.a.createContext(new ce),ie=Object(f.a)((function(e){return Object(b.a)({panel:{marginTop:12,marginBottom:12},content:{padding:24,border:"1px solid #d6d9dc",borderTopWidth:0,borderBottomWidth:0,borderLeftWidth:1,borderRightWidth:0},page:{border:"1px solid #d6d9dc",padding:4,margin:2},activePage:{color:e.palette.primary.main},cardMedia:{width:"25%"},margin:{margin:e.spacing(1)},noneBorder:{borderRadius:0},tableTitle:{color:"#919191",borderBottom:"3px solid #e9e9e9"},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})}));function ue(){var e=ie(),t=c.a.useState(""),n=Object(h.a)(t,2),a=(n[0],n[1],c.a.useContext(oe));Object(v.g)();return c.a.createElement(g.a,null,c.a.createElement(j.a,null,c.a.createElement(l.a,{variant:"h6",className:e.title},"RP \u6a5f\u5668\u4eba"),c.a.createElement(E.a,{bloc:a,builder:function(e){return null!=e.user?c.a.createElement("span",null,e.user.displayName+" \u60a8\u597d",c.a.createElement(O.a,{color:"secondary",onClick:function(e){a.dispatch(new ne)}},c.a.createElement(k.a,null))):c.a.createElement(d.a,{href:"https://id.twitch.tv/oauth2/authorize?"+"client_id=".concat(x.twitchClientId,"&")+"redirect_uri=http://localhost:3000&response_type=token&scope=user:read:email+channel:moderate"},c.a.createElement(y.a,{variant:"contained",color:"secondary",style:{color:"#6441a4",fontWeight:"bold"}},"Twitch Login"))}})))}var se=n(124),le=n.n(se);function de(){return c.a.createElement(l.a,{variant:"body2",color:"textSecondary"},"Copyright \xa9 ",c.a.createElement(d.a,{color:"inherit",href:"http://TwitchRPbot.github.io"},"RPBotAlpha, All right reserved.")," ",(new Date).getFullYear(),".")}var pe=Object(f.a)((function(e){return Object(b.a)({root:function(e){return{display:"flex",flexDirection:"column",minHeight:"100vh",background:e.background,backgroundSize:"cover"}},main:function(t){var n;return n={marginTop:e.spacing(8),marginBottom:e.spacing(2),height:t.isFillMain?"calc(100vh - 56px - 120px)":"auto"},Object(p.a)(n,e.breakpoints.up("xs"),{height:t.isFillMain?"calc(100vh - 48px - 120px)":"auto"}),Object(p.a)(n,e.breakpoints.up("sm"),{height:t.isFillMain?"calc(100vh - 64px - 120px)":"auto"}),Object(p.a)(n,"maxWidth","80vw"),n},footer:{padding:e.spacing(3,2),height:68,marginTop:"auto",textAlign:"center",backgroundColor:"#00000036"}})}));function fe(e){var t=e.children,n=e.isFillMain,a=pe({background:"url(".concat(le.a,")"),isFillMain:n});return c.a.createElement("div",{className:a.root},c.a.createElement(u.a,null),c.a.createElement(ue,null),c.a.createElement(m.a,{component:"main",className:a.main,maxWidth:"sm"},null!=t?t:null),c.a.createElement("footer",{className:a.footer},c.a.createElement(m.a,{maxWidth:"sm"},c.a.createElement(de,null))))}function be(){return c.a.createElement(fe,{isFillMain:!0},c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%",textAlign:"center"}},c.a.createElement(l.a,{variant:"h2",component:"h1",gutterBottom:!0},"RP \u6a5f\u5668\u4eba"),c.a.createElement(l.a,{variant:"h5",component:"h2",gutterBottom:!0},"\u5e6b\u52a9\u591a\u500b\u5be6\u6cc1\u540c\u6b65 Ban \u4eba\uff0c\u4e00\u9375\u958b Ban",c.a.createElement("br",null),""),c.a.createElement(l.a,{variant:"body1"},"Alpha \u7248\u5167\u6e2c\u4e2d")))}var me=n(45);function he(e){var t=Object(r.useState)(e),n=Object(h.a)(t,2),a=n[0];n[1];return a}var ve=function(){function e(t){var n=t.isLoading,a=t.isFailure,r=t.isSuccess;Object(_.a)(this,e),this.isLoading=void 0,this.isFailure=void 0,this.isSuccess=void 0,this.isLoading=void 0!==n&&n,this.isFailure=void 0!==a&&a,this.isSuccess=void 0!==r&&r}return Object(C.a)(e,[{key:"loading",value:function(){return new e({isLoading:!0,isSuccess:!1,isFailure:!1})}},{key:"failure",value:function(){return new e({isLoading:!1,isSuccess:!1,isFailure:!0})}},{key:"success",value:function(){return new e({isLoading:!1,isSuccess:!0,isFailure:!1})}}],[{key:"empty",value:function(){return new e({isLoading:!1,isFailure:!1,isSuccess:!1})}}]),e}(),ge=n(62),je=n.n(ge),Oe=(je.a.object({code:je.a.number().required(),type:je.a.string().required(),message:je.a.any()}).keys({code:je.a.number().valid(200,204,301)}),function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(T.a)(this,Object(B.a)(t).call(this))).token=void 0,n.token=e,n}return Object(A.a)(t,e),t}((function e(){Object(_.a)(this,e)}))),ye=function(e){function t(){return Object(_.a)(this,t),Object(T.a)(this,Object(B.a)(t).call(this))}return Object(A.a)(t,e),Object(C.a)(t,[{key:"initialState",value:function(){return ve.empty()}},{key:"mapEventToState",value:function(e){var t=this;return Object(I.a)(S.a.mark((function n(){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e instanceof Oe)){n.next=2;break}return n.delegateYield(Object(R.a)(Object(L.a)(t._mapApplyEventToState(e)),F.a),"t0",2);case 2:case"end":return n.stop()}}),n)})))()}},{key:"_mapApplyEventToState",value:function(e){var t=this;return Object(I.a)(S.a.mark((function n(){var a;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.currentState.loading();case 2:return n.next=4,Object(F.a)(Y.apply(e.token));case 4:if(a=n.sent,console.log(a),200!=(null===a||void 0===a?void 0:a.code)){n.next=10;break}return n.next=9,t.currentState.success();case 9:return n.abrupt("return");case 10:return n.next=12,t.currentState.failure();case 12:case"end":return n.stop()}}),n)})))()}}]),t}(U.a),ke=(c.a.createContext(new ye),n(247));function xe(){var e,t=Object(r.useContext)(oe),n=he(new ye),a=null===(e=t.currentState.user)||void 0===e?void 0:e.token;return a?c.a.createElement(E.a,{bloc:n,builder:function(e){var r;return console.log("???"),e.isFailure||e.isSuccess||e.isLoading?e.isLoading?c.a.createElement(we,null):e.isFailure?c.a.createElement(Se,null):e.isSuccess?c.a.createElement(Ce,null):c.a.createElement(we,null):(null===(r=t.currentState.user)||void 0===r?void 0:r.isRequested)?c.a.createElement(Ce,null):c.a.createElement(Ee,{bloc:n,token:a})}}):c.a.createElement(v.a,{to:"/"})}function Ee(e){var t=e.bloc,n=e.token;return c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%",textAlign:"center"}},c.a.createElement(l.a,{variant:"h4",component:"p",gutterBottom:!0},"\u606d\u559c\u60a8\u6210\u529f\u52a0\u5165\uff01\u4f46\u70ba\u4e86\u907f\u514d\u89c0\u773e\u4e82\u5165\uff0c\u8acb\u9ede\u64ca",c.a.createElement(d.a,{onClick:function(e){t.dispatch(new Oe(n))}},"\u7533\u8acb")),c.a.createElement(l.a,{variant:"h5",component:"h1",gutterBottom:!0},"\u7b49\u5019\u7ba1\u7406\u54e1\u5be9\u6838\uff01\u611f\u8b1d\u60a8\uff5e"))}function we(){return c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%",textAlign:"center"}},c.a.createElement(l.a,{variant:"h4",component:"p",gutterBottom:!0},"\u7533\u8acb\u4e2d..."),c.a.createElement(ke.a,{style:{width:80,height:80}}))}function Se(){return c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%",textAlign:"center"}},c.a.createElement(l.a,{variant:"h4",component:"p",style:{color:"red"},gutterBottom:!0},"\u7533\u8acb\u5931\u6557\uff0c\u8acb\u91cd\u65b0\u6574\u7406\u5f8c\u5617\u8a66\u3002"))}function Ce(){return c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%",textAlign:"center"}},c.a.createElement(l.a,{variant:"h4",component:"p",gutterBottom:!0},"\u5df2\u7533\u8acb\u6210\u529f\uff01"),c.a.createElement(l.a,{variant:"h5",component:"h1",gutterBottom:!0},"\u7b49\u5019\u7ba1\u7406\u54e1\u5be9\u6838\uff01\u611f\u8b1d\u60a8\uff5e"))}var Te=function e(){Object(_.a)(this,e)};Te.primaryColor="#1A2043",Te.secondaryColor="#EBBF86",Te.fontOnPColor="#ffffff",Te.fontOnSColor="#574C53";var Be=Te,Ae=n(59),_e=n(258),Ie=n(251),Fe=n(252),Le=n(249),Re=n(250),Ue=n(2),Pe=n(257),Ne=function(e){var t=e.observedValue,n=e.observedChanged,a=(e.value,e.onChange,Object(Ue.a)(e,["observedValue","observedChanged","value","onChange"])),r=c.a.useState(t),o=Object(h.a)(r,2),i=o[0],u=o[1];return c.a.useEffect((function(){i!==t&&n(i)}),[i]),c.a.useEffect((function(){i!==t&&u(t)}),[t]),c.a.createElement(Pe.a,Object.assign({value:i,onChange:function(e){u(e.currentTarget.value)}},a))},De=function(){function e(){Object(_.a)(this,e)}return Object(C.a)(e,null,[{key:"banUser",value:function(){var e=Object(P.a)(S.a.mark((function e(t,n){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.post(x.api+"".concat("/streamers")).set("accept","json").set({"Content-Type":"application/json"}).set({Authorization:"Bearer "+n}).send(t);case 3:return a=e.sent,e.abrupt("return",a.body);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unbanUser",value:function(){var e=Object(P.a)(S.a.mark((function e(t,n){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.del(x.api+"".concat("/streamers")).set("accept","json").set({"Content-Type":"application/json"}).set({Authorization:"Bearer "+n}).send(t);case 3:return a=e.sent,e.abrupt("return",a.body);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getBanList",value:function(){var e=Object(P.a)(S.a.mark((function e(t,n){var a,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get(x.api+"".concat("/streamers","?page=").concat(n)).set("accept","json").set({"Content-Type":"application/json"}).set({Authorization:"Bearer "+t}).send();case 3:return a=e.sent,r=a.body,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),We=function e(){Object(_.a)(this,e)},Ye=function(e){function t(e){var n,a=e.username,r=e.reason;return Object(_.a)(this,t),(n=Object(T.a)(this,Object(B.a)(t).call(this))).username=void 0,n.reason=void 0,n.username=a,n.reason=r||"",n}return Object(A.a)(t,e),t}(We),He=function(e){function t(e){var n,a=e.username;return Object(_.a)(this,t),(n=Object(T.a)(this,Object(B.a)(t).call(this))).username=void 0,n.username=a,n}return Object(A.a)(t,e),t}(We),Me=function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(T.a)(this,Object(B.a)(t).call(this))).token=void 0,n.token=e,n}return Object(A.a)(t,e),Object(C.a)(t,[{key:"initialState",value:function(){return ve.empty()}},{key:"mapEventToState",value:function(e){var t=this;return Object(I.a)(S.a.mark((function n(){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e instanceof Ye)){n.next=4;break}return n.delegateYield(Object(R.a)(Object(L.a)(t._mapBanEventToState(e)),F.a),"t0",2);case 2:n.next=6;break;case 4:if(!(e instanceof He)){n.next=6;break}return n.delegateYield(Object(R.a)(Object(L.a)(t._mapUnBanEventToState(e)),F.a),"t1",6);case 6:case"end":return n.stop()}}),n)})))()}},{key:"_mapBanEventToState",value:function(e){var t=this;return Object(I.a)(S.a.mark((function n(){var a;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.currentState.loading();case 2:return n.next=4,Object(F.a)(De.banUser({username:e.username,reason:e.reason},t.token));case 4:if(200!=(null===(a=n.sent)||void 0===a?void 0:a.code)){n.next=9;break}return n.next=8,t.currentState.success();case 8:return n.abrupt("return");case 9:return n.next=11,t.currentState.failure();case 11:case"end":return n.stop()}}),n)})))()}},{key:"_mapUnBanEventToState",value:function(e){var t=this;return Object(I.a)(S.a.mark((function n(){var a;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.currentState.loading();case 2:return n.next=4,Object(F.a)(De.unbanUser({username:e.username},t.token));case 4:if(200!=(null===(a=n.sent)||void 0===a?void 0:a.code)){n.next=9;break}return n.next=8,t.currentState.success();case 8:return n.abrupt("return");case 9:return n.next=11,t.currentState.failure();case 11:case"end":return n.stop()}}),n)})))()}}]),t}(U.a),ze=(c.a.createContext(new Me("")),n(261)),Ve=n(259);function qe(e){return c.a.createElement(Ve.a,Object.assign({elevation:6,variant:"filled"},e))}Object(f.a)((function(e){return Object(b.a)({panel:{marginTop:12,marginBottom:12},content:{padding:24,border:"1px solid #d6d9dc",borderTopWidth:0,borderBottomWidth:0,borderLeftWidth:1,borderRightWidth:0},page:{border:"1px solid #d6d9dc",padding:4,margin:2},activePage:{color:e.palette.primary.main},cardMedia:{width:"25%"},margin:{margin:e.spacing(1)},noneBorder:{borderRadius:0},tableTitle:{color:"#919191",borderBottom:"3px solid #e9e9e9"},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})}));function Ge(e){var t=e.date,n=e.message,a=e.severity,o=void 0===a?"success":a,i=Object(r.useState)(!1),u=Object(h.a)(i,2),s=u[0],l=u[1],d=function(e,t){l(!1)};return c.a.useEffect((function(){l(!0)}),[t]),c.a.createElement(ze.a,{open:s,autoHideDuration:2e3,onClose:d},c.a.createElement(qe,{onClose:d,severity:o},n))}var Je=Object(f.a)((function(e){return Object(b.a)({cardRoot:{backgroundColor:e.palette.primary.light,color:e.palette.secondary.light},textField:{backgroundColor:e.palette.primary.dark,color:Be.fontOnPColor}})}));function Ke(){var e,t=Je(),n=Object(r.useContext)(oe),a=Object(Ae.a)(),o=null===(e=n.currentState.user)||void 0===e?void 0:e.token,i=he(new Me(o));if(!o)return c.a.createElement(v.a,{to:"/"});var u="",s="";return c.a.createElement(c.a.Fragment,null,c.a.createElement(Le.a,{elevation:8,classes:{root:t.cardRoot}},c.a.createElement(E.a,{bloc:i,builder:function(e){return e.isSuccess&&(u="",s=""),c.a.createElement(Re.a,null,c.a.createElement(l.a,{gutterBottom:!0},"\u8acb\u8f38\u5165\u60f3\u8981 BAN \u7684 Twitch \u7528\u6236\u540d:"),c.a.createElement(Ne,{id:"outlined-full-width",style:{margin:0},placeholder:"",fullWidth:!0,className:t.textField,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",inputProps:{style:{padding:8}},observedValue:u,helperText:"",observedChanged:function(e){u=e}}),c.a.createElement(_e.a,{height:8}),c.a.createElement(l.a,null,"\u7406\u7531:"),c.a.createElement(Ne,{id:"outlined-full-width",style:{margin:0},placeholder:"",fullWidth:!0,className:t.textField,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",inputProps:{style:{padding:8}},observedValue:s,helperText:"",observedChanged:function(e){s=e}}),c.a.createElement(_e.a,{height:16}),c.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},c.a.createElement(Ie.a,{variant:"extended",style:{backgroundColor:a.palette.primary.dark,color:a.palette.text.primary,height:36},onClick:function(e){i.dispatch(new He({username:u}))}},c.a.createElement(Fe.a,null),"UNBAN"),c.a.createElement(_e.a,{width:8}),c.a.createElement(Ie.a,{variant:"extended",style:{backgroundColor:"rgb(220, 0, 78)",color:"orange",height:36},onClick:function(e){i.dispatch(new Ye({username:u,reason:s}))}},c.a.createElement(Fe.a,null),"BAN")),e.isFailure&&c.a.createElement(Ge,{date:new Date,message:"\u767c\u751f\u932f\u8aa4\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002",severity:"error"}),e.isSuccess&&c.a.createElement(Ge,{date:new Date,message:"\u64cd\u4f5c\u6210\u529f\u3002",severity:"success"}))}})))}var Qe=Object(f.a)((function(e){return Object(b.a)({cardRoot:{backgroundColor:e.palette.primary.light,color:e.palette.secondary.light},textField:{backgroundColor:e.palette.primary.dark,color:Be.fontOnPColor}})}));function Xe(){var e;Qe();return(null===(e=Object(r.useContext)(oe).currentState.user)||void 0===e?void 0:e.token)?c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%"}},c.a.createElement(Ke,null)):c.a.createElement(v.a,{to:"/"})}var Ze=n(248),$e=n(253),et=n(254),tt=n(255),nt=n(263),at=function e(){Object(_.a)(this,e)},rt=function(e){function t(){return Object(_.a)(this,t),Object(T.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(A.a)(t,e),t}(at),ct=function(e){function t(e,n,a){var r;return Object(_.a)(this,t),(r=Object(T.a)(this,Object(B.a)(t).call(this))).users=void 0,r.page=void 0,r.selectedId=void 0,r.users=e,r.page=n,r.selectedId=a,r}return Object(A.a)(t,e),t}(at),ot=function(e){function t(e,n,a){return Object(_.a)(this,t),Object(T.a)(this,Object(B.a)(t).call(this,e,n,a))}return Object(A.a)(t,e),t}(ct),it=function(e){function t(e,n,a){return Object(_.a)(this,t),Object(T.a)(this,Object(B.a)(t).call(this,e,n,a))}return Object(A.a)(t,e),t}(ot),ut=function(e){function t(e,n,a){return Object(_.a)(this,t),Object(T.a)(this,Object(B.a)(t).call(this,e,n,a))}return Object(A.a)(t,e),t}(ot),st=function e(){Object(_.a)(this,e)},lt=function(e){function t(){return Object(_.a)(this,t),Object(T.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(A.a)(t,e),t}(st),dt=function(e){function t(){return Object(_.a)(this,t),Object(T.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(A.a)(t,e),t}(st),pt=function(e){function t(e){var n,a=e.id;return Object(_.a)(this,t),(n=Object(T.a)(this,Object(B.a)(t).call(this))).id=void 0,n.id=a,n}return Object(A.a)(t,e),t}(st),ft=function(e){function t(e){var n,a=e.id;return Object(_.a)(this,t),(n=Object(T.a)(this,Object(B.a)(t).call(this))).id=void 0,n.id=a,n}return Object(A.a)(t,e),t}(st),bt=function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(T.a)(this,Object(B.a)(t).call(this))).token=void 0,n.token=e,n}return Object(A.a)(t,e),Object(C.a)(t,[{key:"initialState",value:function(){return new rt}},{key:"mapEventToState",value:function(e){var t=this;return Object(I.a)(S.a.mark((function n(){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e instanceof lt)){n.next=4;break}return n.delegateYield(Object(R.a)(Object(L.a)(t._mapRefreshEventToState(e)),F.a),"t0",2);case 2:n.next=14;break;case 4:if(!(e instanceof dt)){n.next=8;break}return n.delegateYield(Object(R.a)(Object(L.a)(t._mapScrollToEndEventToState(e)),F.a),"t1",6);case 6:n.next=14;break;case 8:if(!(e instanceof pt)){n.next=12;break}return n.delegateYield(Object(R.a)(Object(L.a)(t._mapVerifyEventToState(e)),F.a),"t2",10);case 10:n.next=14;break;case 12:if(!(e instanceof ft)){n.next=14;break}return n.delegateYield(Object(R.a)(Object(L.a)(t._mapSelectEventToState(e)),F.a),"t3",14);case 14:case"end":return n.stop()}}),n)})))()}},{key:"_mapRefreshEventToState",value:function(e){var t=this;return Object(I.a)(S.a.mark((function e(){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,new ct(n,0,"");case 3:return e.next=5,Object(F.a)(Y.getAppliers(t.token));case 5:if(!((a=e.sent)&&(null===a||void 0===a?void 0:a.length)>0)){e.next=10;break}return e.next=9,new ot(a,0,"");case 9:return e.abrupt("return");case 10:return e.next=12,new ot(n,0,"");case 12:case"end":return e.stop()}}),e)})))()}},{key:"_mapScrollToEndEventToState",value:function(e){var t=this;return Object(I.a)(S.a.mark((function e(){var n,a,r,c,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentState,e.next=3,new ct(n.users,n.page,n.selectedId);case 3:return e.next=5,Object(F.a)(Y.getAppliers(t.token,n.users.length/10));case 5:if((a=e.sent)&&0!=(null===a||void 0===a?void 0:a.length)){e.next=10;break}return e.next=9,new ot(n.users,n.page,n.selectedId);case 9:return e.abrupt("return");case 10:for(r=n.users,c=function(e){var t=a[e];null==r.find((function(e){return(null===e||void 0===e?void 0:e.id)==(null===t||void 0===t?void 0:t.id)}))&&r.push(t)},o=0;o<a.length;o++)c(o);if(!a||10==(null===a||void 0===a?void 0:a.length)){e.next=17;break}return e.next=16,new ot(n.users,n.page,n.selectedId);case 16:return e.abrupt("return");case 17:return e.next=19,new ot(r,n.page+1,"");case 19:case"end":return e.stop()}}),e)})))()}},{key:"_mapSelectEventToState",value:function(e){var t=this;return Object(I.a)(S.a.mark((function n(){var a;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.currentState,n.next=3,new ot(a.users,a.page,e.id);case 3:case"end":return n.stop()}}),n)})))()}},{key:"_mapVerifyEventToState",value:function(e){var t=this;return Object(I.a)(S.a.mark((function e(){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentState,e.next=3,new ct(n.users,n.page,n.selectedId);case 3:return e.next=5,Object(F.a)(Y.confirmApplier(t.token,n.selectedId));case 5:if(200!=(null===(a=e.sent)||void 0===a?void 0:a.code)){e.next=10;break}return e.next=9,new it(n.users.filter((function(e){return(null===e||void 0===e?void 0:e.id)!==n.selectedId})),n.page,"");case 9:return e.abrupt("return");case 10:return e.next=12,new ut(n.users,n.page,"");case 12:case"end":return e.stop()}}),e)})))()}}]),t}(U.a),mt=(c.a.createContext(new bt("")),Object(f.a)((function(e){return Object(b.a)({cardRoot:{backgroundColor:e.palette.primary.light,color:e.palette.secondary.light,width:"35vw"},textField:{backgroundColor:e.palette.primary.dark,color:Be.fontOnPColor},selected:{backgroundColor:"".concat(e.palette.secondary.main," !important"),color:e.palette.primary.main},listTileRoot:{backgroundColor:e.palette.primary.dark,color:e.palette.secondary.main}})})));function ht(e){var t=e.state,n=e.bloc,a=e.classes;console.log(t);var r=t instanceof rt,o=t instanceof ot,i=t instanceof ct;if(console.log("".concat(r," ").concat(i," ").concat(i)),t instanceof rt||!o&&t instanceof ct&&(null==t.users||0==t.users.length))return c.a.createElement(Ze.a,null,c.a.createElement($e.a,{button:!0},c.a.createElement(et.a,{primary:"Spam"})));var u=t;return c.a.createElement(Ze.a,{classes:{root:a.listTileRoot}},u.users.map((function(e){return c.a.createElement($e.a,{classes:{selected:a.selected},key:null===e||void 0===e?void 0:e.id,button:!0,selected:u.selectedId===(null===e||void 0===e?void 0:e.id),onClick:function(t){o&&n.dispatch(new ft({id:e.id}))}},c.a.createElement(tt.a,null,c.a.createElement(nt.a,{src:"".concat((null===e||void 0===e?void 0:e.profileImage)?null===e||void 0===e?void 0:e.profileImage:"")})),c.a.createElement(et.a,{primary:"".concat(null===e||void 0===e?void 0:e.displayName)}))})))}function vt(e){var t=e.state;return t instanceof ut?c.a.createElement(Ge,{date:new Date,message:"\u767c\u751f\u932f\u8aa4\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66\u3002",severity:"error"}):t instanceof it?c.a.createElement(Ge,{date:new Date,message:"\u64cd\u4f5c\u6210\u529f\u3002",severity:"success"}):c.a.createElement(c.a.Fragment,null)}function gt(){var e,t=mt(),n=Object(r.useContext)(oe),a=(Object(Ae.a)(),null===(e=n.currentState.user)||void 0===e?void 0:e.token),o=he(new bt(a));if(c.a.useEffect((function(){o.dispatch(new lt)})),!a)return c.a.createElement(v.a,{to:"/"});var i=function(e){if(!(o.state instanceof ct)){var t=e.currentTarget.scrollTop,n=e.currentTarget.scrollHeight,a=(e.currentTarget.offsetHeight,e.currentTarget.clientHeight);console.log("Handle Scroll: (".concat(t,", ").concat(n,")")),Math.ceil(n-t)===a&&(console.log("Event!"),o.dispatch(new dt))}};return c.a.createElement(c.a.Fragment,null,c.a.createElement(Le.a,{elevation:8,classes:{root:t.cardRoot}},c.a.createElement(l.a,{style:{padding:16},gutterBottom:!0},"\u7533\u8acb\u6e05\u55ae"),c.a.createElement(E.a,{bloc:o,builder:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Re.a,{style:{maxHeight:"35vh",overflow:"auto"},onScroll:i},c.a.createElement(ht,{state:e,bloc:o,classes:t})),c.a.createElement(_e.a,{height:16}),c.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},c.a.createElement(_e.a,{width:16}),c.a.createElement(Ie.a,{variant:"extended",disabled:null==e.selectedId||""===e.selectedId,style:{backgroundColor:e instanceof ot&&""!==e.selectedId?"rgb(51, 152, 54)":"rgb(80, 80, 80)",color:"white",height:36,margin:16},onClick:function(e){o.dispatch(new pt({id:""}))}},c.a.createElement(Fe.a,null),"\u63d0\u5347\u70ba\u5be6\u6cc1\u4e3b")),c.a.createElement(vt,{state:e}))}})))}var jt=Object(f.a)((function(e){return Object(b.a)({cardRoot:{backgroundColor:e.palette.primary.light,color:e.palette.secondary.light},textField:{backgroundColor:e.palette.primary.dark,color:Be.fontOnPColor}})}));function Ot(){var e;jt(),Object(Ae.a)();return(null===(e=Object(r.useContext)(oe).currentState.user)||void 0===e?void 0:e.token)?c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",height:"100%"}},c.a.createElement(Ke,null),c.a.createElement(_e.a,{width:120}),c.a.createElement(gt,null)):c.a.createElement(v.a,{to:"/"})}function yt(){var e=Object(r.useContext)(oe);return c.a.createElement(fe,{isFillMain:!0},c.a.createElement(E.a,{bloc:e,builder:function(e){return e.user?e.user.permission===J.audience?(console.log("audience!"),c.a.createElement(xe,null)):e.user.permission==J.streamer?c.a.createElement(Xe,null):e.user.permission==J.manager?c.a.createElement(Ot,null):c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%",textAlign:"center"}},c.a.createElement(l.a,{variant:"h2",component:"h1",gutterBottom:!0},"\u9084\u6c92\u5efa\u69cb\u5b8c\u6210")):c.a.createElement(v.a,{to:"/"})}}))}var kt=n(125),xt=n.n(kt),Et=n(126),wt=Object(Et.a)({palette:{primary:{main:Be.primaryColor,light:"#45476e",dark:"#00001d"},secondary:{main:Be.secondaryColor,light:"#fff2b6",dark:"#b78f58"},error:{main:xt.a.A400},text:{primary:Be.fontOnPColor,secondary:Be.fontOnSColor},background:{default:"#45476e"}},typography:{fontFamily:["Helvetica","Arial","LiHei Pro","\u9ed1\u9ad4-\u7e41","\u5fae\u8edf\u6b63\u9ed1\u9ad4","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}});i.a.render(c.a.createElement(s.a,{theme:wt},c.a.createElement(u.a,null),c.a.createElement((function(){var e=he(new ce);return c.a.useEffect((function(){e.dispatch(new ae(window.location.hash))})),c.a.createElement(me.a,null,c.a.createElement(oe.Provider,{value:e},c.a.createElement(E.a,{bloc:e,builder:function(e){return e instanceof $&&null!=e.user?c.a.createElement(v.d,null,c.a.createElement(v.b,{path:"/"},c.a.createElement(yt,null))):c.a.createElement(v.d,null,c.a.createElement(v.b,{path:"/"},c.a.createElement(be,null)))}})))}),null)),document.querySelector("#root"))}},[[135,1,2]]]);
//# sourceMappingURL=main.dfb1238c.chunk.js.map